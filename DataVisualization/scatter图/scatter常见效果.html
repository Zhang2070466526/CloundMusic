<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>scatter常见效果</title>
    <script src="echarts.min.js"></script>
    <style>
        div{
            height:500px;
            width:900px;
        }
        </style>
</head>
<body>
    <div id="main" ><!--scatter图存放处  --></div>
    <script>
        data=[{'gendar': 'man', 'height': 164, 'weight': 100}, {'gendar': 'man', 'height': 150, 'weight': 58}, {'gendar': 'man', 'height': 174, 'weight': 69}, {'gendar': 'girl', 'height': 161, 'weight': 92}, {'gendar': 'man', 'height': 192, 'weight': 80}, {'gendar': 'girl', 'height': 198, 'weight': 88}, {'gendar': 'girl', 'height': 189, 'weight': 74}, {'gendar': 'man', 'height': 182, 'weight': 54}, {'gendar': 'girl', 'height': 155, 'weight': 69}, {'gendar': 'man', 'height': 191, 'weight': 41}, {'gendar': 'man', 'height': 165, 'weight': 58}, {'gendar': 'man', 'height': 185, 'weight': 90}, {'gendar': 'girl', 'height': 150, 'weight': 94}, {'gendar': 'girl', 'height': 162, 'weight': 84}, {'gendar': 'girl', 'height': 171, 'weight': 93}, {'gendar': 'man', 'height': 177, 'weight': 48}, {'gendar': 'girl', 'height': 197, 'weight': 65}, {'gendar': 'girl', 'height': 156, 'weight': 46}, {'gendar': 'girl', 'height': 174, 'weight': 66}, {'gendar': 'girl', 'height': 195, 'weight': 85}, {'gendar': 'girl', 'height': 198, 'weight': 74}, {'gendar': 'girl', 'height': 175, 'weight': 98}, {'gendar': 'girl', 'height': 165, 'weight': 78}, {'gendar': 'girl', 'height': 168, 'weight': 67}, {'gendar': 'girl', 'height': 163, 'weight': 78}, {'gendar': 'man', 'height': 179, 'weight': 59}, {'gendar': 'man', 'height': 153, 'weight': 98}, {'gendar': 'girl', 'height': 159, 'weight': 94}, {'gendar': 'man', 'height': 195, 'weight': 61}, {'gendar': 'man', 'height': 181, 'weight': 55}, {'gendar': 'girl', 'height': 161, 'weight': 91}, {'gendar': 'girl', 'height': 167, 'weight': 45}, {'gendar': 'man', 'height': 190, 'weight': 98}, {'gendar': 'girl', 'height': 186, 'weight': 86}, {'gendar': 'girl', 'height': 158, 'weight': 90}, {'gendar': 'man', 'height': 165, 'weight': 59}, {'gendar': 'man', 'height': 161, 'weight': 92}, {'gendar': 'man', 'height': 152, 'weight': 71}, {'gendar': 'man', 'height': 161, 'weight': 63}, {'gendar': 'man', 'height': 159, 'weight': 44}, {'gendar': 'girl', 'height': 175, 'weight': 80}, {'gendar': 'man', 'height': 179, 'weight': 53}, {'gendar': 'girl', 'height': 185, 'weight': 95}, {'gendar': 'girl', 'height': 176, 'weight': 81}, {'gendar': 'girl', 'height': 160, 'weight': 78}, {'gendar': 'girl', 'height': 200, 'weight': 58}, {'gendar': 'man', 'height': 168, 'weight': 49}, {'gendar': 'man', 'height': 167, 'weight': 45}, {'gendar': 'girl', 'height': 150, 'weight': 51}, {'gendar': 'girl', 'height': 190, 'weight': 59}, {'gendar': 'man', 'height': 185, 'weight': 50}, {'gendar': 'man', 'height': 154, 'weight': 94}, {'gendar': 'man', 'height': 174, 'weight': 97}, {'gendar': 'man', 'height': 184, 'weight': 53}, {'gendar': 'girl', 'height': 171, 'weight': 58}, {'gendar': 'girl', 'height': 170, 'weight': 43}, {'gendar': 'girl', 'height': 167, 'weight': 50}, {'gendar': 'man', 'height': 200, 'weight': 98}, {'gendar': 'girl', 'height': 166, 'weight': 97}, {'gendar': 'man', 'height': 157, 'weight': 60}, {'gendar': 'man', 'height': 160, 'weight': 98}, {'gendar': 'man', 'height': 190, 'weight': 65}, {'gendar': 'girl', 'height': 191, 'weight': 59}, {'gendar': 'man', 'height': 188, 'weight': 97}, {'gendar': 'man', 'height': 164, 'weight': 59}, {'gendar': 'girl', 'height': 196, 'weight': 84}, {'gendar': 'girl', 'height': 161, 'weight': 61}, {'gendar': 'man', 'height': 151, 'weight': 81}, {'gendar': 'girl', 'height': 180, 'weight': 94}, {'gendar': 'girl', 'height': 172, 'weight': 95}, {'gendar': 'man', 'height': 196, 'weight': 47}, {'gendar': 'girl', 'height': 155, 'weight': 46}, {'gendar': 'man', 'height': 180, 'weight': 91}, {'gendar': 'man', 'height': 183, 'weight': 97}, {'gendar': 'girl', 'height': 197, 'weight': 79}, {'gendar': 'girl', 'height': 195, 'weight': 48}, {'gendar': 'man', 'height': 163, 'weight': 96}, {'gendar': 'girl', 'height': 198, 'weight': 56}, {'gendar': 'man', 'height': 181, 'weight': 58}, {'gendar': 'man', 'height': 190, 'weight': 50}, {'gendar': 'girl', 'height': 193, 'weight': 43}, {'gendar': 'girl', 'height': 171, 'weight': 100}, {'gendar': 'man', 'height': 163, 'weight': 86}, {'gendar': 'man', 'height': 159, 'weight': 57}, {'gendar': 'man', 'height': 178, 'weight': 51}, {'gendar': 'girl', 'height': 195, 'weight': 77}, {'gendar': 'girl', 'height': 154, 'weight': 98}, {'gendar': 'girl', 'height': 200, 'weight': 56}, {'gendar': 'girl', 'height': 185, 'weight': 83}, {'gendar': 'girl', 'height': 197, 'weight': 64}, {'gendar': 'man', 'height': 178, 'weight': 79}, {'gendar': 'man', 'height': 178, 'weight': 71}, {'gendar': 'man', 'height': 193, 'weight': 78}, {'gendar': 'girl', 'height': 156, 'weight': 65}, {'gendar': 'girl', 'height': 191, 'weight': 78}, {'gendar': 'man', 'height': 199, 'weight': 48}, {'gendar': 'man', 'height': 156, 'weight': 89}, {'gendar': 'girl', 'height': 157, 'weight': 48}, {'gendar': 'man', 'height': 164, 'weight': 100}, {'gendar': 'girl', 'height': 155, 'weight': 45}]
        var ls=[]
        for(var i=0;i<data.length;i++){
            //console.log(data[i].weight)
            var w=data[i].weight
            var h=data[i].height
            var lz=[h,w]
            ls.push(lz);
            //console.log(ls)
        }
        var myCharts=echarts.init(document.getElementById("main"))
        var option={
            title:{
                text:"height和weight的关系",
                link:"https://echarts.apache.org",
                textStyle:{
                    color:"rgb(0,47,167)",
                    fontSize:10,
                },
                borderWith:2,
                borderColor:"rgb(21,69,153)",
                borderRadius:2,
                top:"top",
                left:10,
            },
            toolbox:{
                show:true,
                feature:{
                    restore:{},
                    // dataZoom:{},
                    // dataView:{readOnly:false},
                    saveAsImage:{},
                    // magicType:{
                    //     type:['bar','line','stack']
                    // }
                }
            },
            tooltip:{
                trigger:"items",
                triggerOn:"mouseMove",
                axisPointer:{
                    type:"cross"
                }
            },
            xAxis:{
                type:"value",
                scale:true
            },
            yAxis:{
                type:"value",
                scale:true
            },
            series:[
                {
                    name:"relationship",
                    data:ls,
                    //type:"scatter",
                    
                    type:"effectScatter",//涟漪动画(散点模糊效果),
                    showEffectOn:"emphasis",//控制涟漪动画发生的时机  render:散点加载完自动渲染涟漪效果 emphasis:当鼠标点击或划过才会出现涟漪效果
                    rippleEffect: {
                        scale:10//涟漪动画的范围或作用大小(散点扩大的规模)
                    },                   

                    markPoint:{
                        data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]
                    },
                    markLine:{
                        data:[{type:"average",name:"平均值"}]
                    },
                    //symbolSize:10//散点的大小
                    symbolSize:function(arg){
                        //return 10//等价于上面的固定为10

                        //console.log(arg)//arg[]是[h,w]
                        var height=arg[0]
                        var weight=arg[1]
                        // console.log(height,weight,height*weight)
                        if (height*weight>15000){//表达式可以自定义
                            return 10
                        }
                        return 5
                    },
                    itemStyle:{
                        //color:"red"//散点的颜色

                        color:function(arg){
                            //console.log(arg)返回的是对象,和上面的回调函数不一样
                            //console.log(arg.data)// arg.data和上面的回调函数一样
                            h=arg.data[0]
                            w=arg.data[1]
                            console.log(h-w)
                            if(h-w<80){
                                return "green"
                            }else if(h-w<120){
                                return "blue"
                            }else{
                                return "red"
                            }
                        }
                    }
                },
            ]

        }
        myCharts.setOption(option)
    </script>
</body>
</html>